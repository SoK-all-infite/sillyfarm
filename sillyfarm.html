<!DOCTYPE html>
<html>
<head>
    <title>SillyFarm</title>
    <style>
        body { 
            font-family: Arial; 
            padding: 20px; 
            background-color: #1a2e1a;
            color: #FFEB3B; 
        }
        .container { display: flex; gap: 20px; flex-wrap: wrap; }
        .section { 
            border: 2px solid #4CAF50;
            padding: 15px; 
            border-radius: 8px; 
            min-width: 250px; 
            background-color: #2d2d2d;
        }
        button { 
            margin: 5px; 
            padding: 8px 15px; 
            background-color: #2d5a27;
            border: 1px solid #4CAF50;
            color: #FFEB3B; 
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #4CAF50;
            color: #1a2e1a;
        }
        .resource-info { margin: 10px 0; }
        .uncollected { 
            color: #FFEB3B;
            font-size: 0.9em; 
            opacity: 0.8;
        }
        .sell-section { 
            margin-top: 15px; 
            padding-top: 15px; 
            border-top: 2px solid #4CAF50; 
        }
        h1, h3, h4 {
            color: #4CAF50;
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <h1>üåø –¢—ë–º–Ω–∞—è –§–µ—Ä–º–∞ üåø</h1>
    <div class="container">
        <!-- –°–µ–∫—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –ø—Ä–æ–¥–∞–∂–∏ -->
        <div class="section">
            <h3>üí∞ –†–µ—Å—É—Ä—Å—ã ($<span id="money">15</span>)</h3>
            <div class="resource-info">
                ü•ö –Ø–π—Ü–∞: <span id="totalEggs">0</span>
                <div class="uncollected">–ù–µ —Å–æ–±—Ä–∞–Ω–æ: <span id="uncollectedEggs">0</span></div>
            </div>
            <div class="resource-info">
                üåΩ –ö—É–∫—É—Ä—É–∑–∞: <span id="totalCorn">0</span>
                <div class="uncollected">–ù–µ —Å–æ–±—Ä–∞–Ω–æ: <span id="uncollectedCorn">0</span></div>
            </div>
            <div class="resource-info">
                üçé –Ø–±–ª–æ–∫–∏: <span id="totalApples">0</span>
                <div class="uncollected">–ù–µ —Å–æ–±—Ä–∞–Ω–æ: <span id="uncollectedApples">0</span></div>
            </div>
            
            <div class="sell-section">
                <h4>üõí –ü—Ä–æ–¥–∞–∂–∞:</h4>
                <button onclick="sellEggs()">–ü—Ä–æ–¥–∞—Ç—å —è–π—Ü–∞ ($0.09/—à—Ç)</button>
                <button onclick="sellCorn()">–ü—Ä–æ–¥–∞—Ç—å –∫—É–∫—É—Ä—É–∑—É ($0.03/—à—Ç)</button>
                <button onclick="sellApples()">–ü—Ä–æ–¥–∞—Ç—å —è–±–ª–æ–∫–∏ ($0.27/—à—Ç)</button>
            </div>
        </div>

        <!-- –°–µ–∫—Ü–∏—è –∫—É—Ä -->
        <div class="section">
            <h3>üêî –ö—É—Ä—ã (<span id="chickenCount">0</span>)</h3>
            <div>ü•ö/—Å–µ–∫: <span id="eggsPerSecond">0</span></div>
            <button onclick="buyChicken()">–ö—É–ø–∏—Ç—å –∫—É—Ä–∏—Ü—É ($<span id="chickenCost">10</span>)</button>
            <button onclick="collectEggs()">–°–æ–±—Ä–∞—Ç—å —è–π—Ü–∞</button>
        </div>

        <!-- –°–µ–∫—Ü–∏—è –∫—É–∫—É—Ä—É–∑—ã -->
        <div class="section">
            <h3>üåΩ –ö—É–∫—É—Ä—É–∑–∞ (<span id="cornPlotCount">0</span>)</h3>
            <div>‚úÖ –ì–æ—Ç–æ–≤–æ: <span id="readyCorn">0</span></div>
            <button onclick="plantCorn()">–ü–æ—Å–∞–¥–∏—Ç—å 1 –∫—É–∫—É—Ä—É–∑—É</button>
            <button onclick="collectCorn()">–°–æ–±—Ä–∞—Ç—å –≥–æ—Ç–æ–≤—É—é</button>
            <hr>
            <h4>ü§ñ –ê–≤—Ç–æ–ø–æ—Å–∞–¥–∫–∞</h4>
            <button onclick="buyAutoPlant()">–£–ª—É—á—à–∏—Ç—å ($<span id="autoPlantCost">5</span>)</button>
            <div>–£—Ä–æ–≤–µ–Ω—å: <span id="autoPlantLevel">0</span></div>
        </div>

        <!-- –°–µ–∫—Ü–∏—è —è–±–ª–æ–Ω—å -->
        <div class="section">
            <h3>üçé –Ø–±–ª–æ–Ω–∏ (<span id="appleTreeCount">0</span>)</h3>
            <div>üçé/—Å–µ–∫: <span id="applesPerSecond">0</span></div>
            <button onclick="buyAppleTree()">–ö—É–ø–∏—Ç—å —è–±–ª–æ–Ω—é ($<span id="appleTreeCost">100</span>)</button>
            <button onclick="collectApples()">–°–æ–±—Ä–∞—Ç—å —è–±–ª–æ–∫–∏</button>
        </div>
    </div>

    <script>
        let gameData = {
            money: 15,
            chickens: [],
            cornPlots: [],
            appleTrees: 0,
            inventory: { eggs: 0, corn: 0, apples: 0 },
            autoPlant: { level: 0, cost: 5, lastPlant: 0 },
            lastAppleUpdate: Date.now()
        };

        // –ü–æ–∫—É–ø–∫–∞ –∫—É—Ä
        function buyChicken() {
            const cost = 10 * Math.pow(1.1, gameData.chickens.length);
            if(gameData.money >= cost) {
                gameData.money -= cost;
                gameData.chickens.push({ eggs: 0 });
                updateDisplay();
            }
        }

        // –ü–æ–∫—É–ø–∫–∞ —è–±–ª–æ–Ω—å
        function buyAppleTree() {
            const cost = 100 * Math.pow(1.1, gameData.appleTrees);
            if(gameData.money >= cost) {
                gameData.money -= cost;
                gameData.appleTrees++;
                updateDisplay();
            }
        }

        // –ê–≤—Ç–æ–ø–æ—Å–∞–¥–∫–∞ –∫—É–∫—É—Ä—É–∑—ã
        function buyAutoPlant() {
            if(gameData.money >= gameData.autoPlant.cost) {
                gameData.money -= gameData.autoPlant.cost;
                gameData.autoPlant.level++;
                gameData.autoPlant.cost *= 1.1;
                updateDisplay();
            }
        }

        // –†—É—á–Ω–∞—è –ø–æ—Å–∞–¥–∫–∞ –∫—É–∫—É—Ä—É–∑—ã
        function plantCorn() {
            gameData.cornPlots.push({ progress: 0, ready: false });
            updateDisplay();
        }

        // –°–±–æ—Ä —Ä–µ—Å—É—Ä—Å–æ–≤
        function collectEggs() {
            gameData.inventory.eggs += gameData.chickens.reduce((sum, chicken) => sum + Math.floor(chicken.eggs), 0);
            gameData.chickens.forEach(chicken => chicken.eggs = 0);
            updateDisplay();
        }

        function collectCorn() {
            const ready = gameData.cornPlots.filter(plot => plot.ready).length;
            gameData.inventory.corn += ready;
            gameData.cornPlots = gameData.cornPlots.filter(plot => !plot.ready);
            updateDisplay();
        }

        function collectApples() {
            const timePassed = (Date.now() - gameData.lastAppleUpdate) / 1000;
            gameData.inventory.apples += Math.floor(timePassed * gameData.appleTrees / 10);
            gameData.lastAppleUpdate = Date.now();
            updateDisplay();
        }

        // –ü—Ä–æ–¥–∞–∂–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
        function sellEggs() {
            gameData.money += gameData.inventory.eggs * 0.09;
            gameData.inventory.eggs = 0;
            updateDisplay();
        }

        function sellCorn() {
            gameData.money += gameData.inventory.corn * 0.03;
            gameData.inventory.corn = 0;
            updateDisplay();
        }

        function sellApples() {
            gameData.money += gameData.inventory.apples * 0.27;
            gameData.inventory.apples = 0;
            updateDisplay();
        }

        // –ò–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
        function gameLoop() {
            const now = Date.now();
            const deltaTime = (now - (gameData.lastUpdate || now)) / 1000;
            gameData.lastUpdate = now;

            // –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ —è–∏—Ü
            gameData.chickens.forEach(chicken => {
                chicken.eggs += deltaTime;
            });

            // –†–æ—Å—Ç –∫—É–∫—É—Ä—É–∑—ã
            gameData.cornPlots.forEach(plot => {
                if(!plot.ready) {
                    plot.progress = Math.min(plot.progress + deltaTime/5, 1);
                    plot.ready = plot.progress >= 1;
                }
            });

            // –ê–≤—Ç–æ–ø–æ—Å–∞–¥–∫–∞
            if(gameData.autoPlant.level > 0 && now - gameData.autoPlant.lastPlant > 5000) {
                gameData.cornPlots.push(...Array(gameData.autoPlant.level).fill({ progress: 0, ready: false }));
                gameData.autoPlant.lastPlant = now;
            }

            // –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ —è–±–ª–æ–∫
            gameData.inventory.apples += deltaTime * gameData.appleTrees / 10;

            updateDisplay();
            requestAnimationFrame(gameLoop);
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function updateDisplay() {
            // –î–µ–Ω—å–≥–∏ –∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
            document.getElementById('money').textContent = Math.floor(gameData.money);
            document.getElementById('totalEggs').textContent = Math.floor(gameData.inventory.eggs);
            document.getElementById('totalCorn').textContent = Math.floor(gameData.inventory.corn);
            document.getElementById('totalApples').textContent = Math.floor(gameData.inventory.apples);

            // –ù–µ—Å–æ–±—Ä–∞–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
            document.getElementById('uncollectedEggs').textContent = Math.floor(
                gameData.chickens.reduce((sum, chicken) => sum + chicken.eggs, 0)
            );
            document.getElementById('uncollectedCorn').textContent = 
                gameData.cornPlots.filter(plot => plot.ready).length;
            document.getElementById('uncollectedApples').textContent = Math.floor(
                (Date.now() - gameData.lastAppleUpdate) / 1000 % 10 * gameData.appleTrees / 10
            );

            // –ö—É—Ä—ã
            document.getElementById('chickenCount').textContent = gameData.chickens.length;
            document.getElementById('eggsPerSecond').textContent = gameData.chickens.length.toFixed(1);
            document.getElementById('chickenCost').textContent = 
                Math.floor(10 * Math.pow(1.1, gameData.chickens.length));

            // –ö—É–∫—É—Ä—É–∑–∞
            document.getElementById('cornPlotCount').textContent = gameData.cornPlots.length;
            document.getElementById('readyCorn').textContent = 
                gameData.cornPlots.filter(plot => plot.ready).length;

            // –Ø–±–ª–æ–Ω–∏
            document.getElementById('appleTreeCount').textContent = gameData.appleTrees;
            document.getElementById('applesPerSecond').textContent = (gameData.appleTrees / 10).toFixed(1);
            document.getElementById('appleTreeCost').textContent = 
                Math.floor(100 * Math.pow(1.1, gameData.appleTrees));

            // –ê–≤—Ç–æ–ø–æ—Å–∞–¥–∫–∞
            document.getElementById('autoPlantLevel').textContent = gameData.autoPlant.level;
            document.getElementById('autoPlantCost').textContent = Math.floor(gameData.autoPlant.cost);
        }

        // –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã
        gameLoop();
    </script>
</body>
</html>